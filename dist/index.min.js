!function(t,o){"object"==typeof exports&&"object"==typeof module?module.exports=o():"function"==typeof define&&define.amd?define([],o):"object"==typeof exports?exports["js-increments"]=o():t["js-increments"]=o()}(self,(function(){return(()=>{"use strict";var t={d:(o,e)=>{for(var s in e)t.o(e,s)&&!t.o(o,s)&&Object.defineProperty(o,s,{enumerable:!0,get:e[s]})},o:(t,o)=>Object.prototype.hasOwnProperty.call(t,o),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},o={};t.r(o),t.d(o,{default:()=>s});const e=class{constructor(t){this.options={from:0,to:100,duration:5e3,wait:0,max:100,step:1,target:!1,targets:[],onStart:null,onUpdate:null,onFinish:null,...t},this.targets=[],this.options.target&&this.options.targets.push(this.options.target),this.options.targets.forEach((t=>{const o=new class{constructor(t,o){this.counterOptions=o,this.options={selector:null,property:"width",type:"text",unit:"%",percentage:!0,animation:"none",...t}}get update(){switch(this.options.type){case"text":return function(t){const o=this.options.percentage?100*t/this.counterOptions.max:t;this.element.textContent=`${Math.round(o)}${this.options.percentage?"%":""}`};case"style":return function(t){"smooth"!=this.options.animation?this.element.style.setProperty(this.options.property,100*t/this.counterOptions.max+this.options.unit):t==this.counterOptions.from&&(this.element.style.setProperty("transition",`${this.counterOptions.duration}ms ${this.options.property} linear`),this.element.style.setProperty(this.options.property,`${this.counterOptions.to}%`))}}}get element(){return document.querySelector(this.options.selector)}get valid(){if(!this.options.selector)throw new Error("SELECTOR_NOT_FOUND");if(!this.element)throw new Error("NO_DOM_ELEMENT_FOUND_FOR_THE_SELECTOR");if(!["text","style"].includes(this.options.type))throw new Error("INVALID_TARGET_TYPE");if("style"==this.options.type&&!this.options.property)throw new Error("NO_CSS_PROPERTY_PROVIDED");return!0}}(t,this.options);o.valid&&this.targets.push(o)}))}start(){if(!this.valid)return;this._destroyRelatedInstances(),this._fireEvent("onStart"),this.counter=this.options.from;const t=this;setTimeout((function(){const o=t.options.duration/(t.options.to-t.options.from)*t.options.step;t._updateElement(),t.id=setInterval((function(){t.counter===t.options.to?t.stop():(t.options.to&&t.counter+t.options.step>t.options.to?t.counter=t.options.to:t.counter+=t.options.step,t._updateElement())}),o),t._registerInstance()}),t.options.wait)}stop(){clearInterval(this.id),this._fireEvent("onFinish")}_destroyRelatedInstances(){(window.jsIncrementsInstances??[]).forEach(((t,o)=>{const e=t.targets.map((t=>t.options.selector));this.targets.some((t=>e.includes(t.options.selector)))&&(window.jsIncrementsInstances.splice(o,1),t.stop())}))}_registerInstance(){void 0===window.jsIncrementsInstances&&(window.jsIncrementsInstances=[]),window.jsIncrementsInstances.push(this)}_updateElement(){this._fireEvent("onUpdate"),this.targets.forEach((t=>{t.element?t.update(this.counter):this.stop()}))}_fireEvent(t){this.options.hasOwnProperty(t)&&"function"==typeof this.options[t]&&this.options[t](this)}get valid(){if(["from","to","duration","wait","max","step"].forEach((t=>{if(isNaN(this.options[t]))throw new Error(t.toUpperCase()+"_IS_NAN");this.options[t]=parseInt(this.options[t])})),!this.targets.length)throw new Error("NO_VALID_TARGETS");if(this.options.to<this.options.from)throw new Error("TO_MUST_BE_GREATER_THAN_FROM");return(!this.options.max||this.options.max<this.options.to)&&(this.options.max=this.options.to),!0}};window.jsIncrements=e;const s=e;return o})()}));